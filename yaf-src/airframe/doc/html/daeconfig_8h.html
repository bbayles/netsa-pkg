<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" >
<!-- BEGIN NETSA-DOXYGEN HEADER -->
<head>
<title>Airframe Application Utilities</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<!-- All pages must include the following stylesheets -->
<link rel="stylesheet" type="text/css" href="doxygen.css" />
<link rel="stylesheet" type="text/css" href="tabs.css" />
<link rel="stylesheet" type="text/css" href="tools.css" />
</head>
<!--#include virtual="/tools-page-header.shtml"-->
<body>
<div class="tool-header">
<div class="bigtext">Airframe Application Utilities</div>
libairframe 2.12.0 API documentation
</div><!-- tool-header -->
<!-- END NETSA-DOXYGEN HEADER -->
<div class="page-content">
<br />
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_474a9ac5faa6f01ed6774ebb674504b2.html">hg-yaf</a></li><li class="navelem"><a class="el" href="dir_de4b0aca1fc2b528c2bad74d0188357d.html">airframe</a></li><li class="navelem"><a class="el" href="dir_4d15b44975c8ac394570efc4a3796bcc.html">include</a></li><li class="navelem"><a class="el" href="dir_c6580e1ee282fc8e1bdf48d5295600f2.html">airframe</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">daeconfig.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Airframe Daemon Configuration Support.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;airframe/autoinc.h&gt;</code><br />
<code>#include &lt;<a class="el" href="airopt_8h_source.html">airframe/airopt.h</a>&gt;</code><br />
</div>
<p><a href="daeconfig_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a40b5ffc0e46552bf2b609c109a92fdd7"><td class="memItemLeft" align="right" valign="top"><a id="a40b5ffc0e46552bf2b609c109a92fdd7"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daeconfig_8h.html#a40b5ffc0e46552bf2b609c109a92fdd7">DAEC_ERROR_DOMAIN</a>&#160;&#160;&#160;g_quark_from_string(&quot;airframeDaemonError&quot;)</td></tr>
<tr class="memdesc:a40b5ffc0e46552bf2b609c109a92fdd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">GError domain for daeconfig errors. <br /></td></tr>
<tr class="separator:a40b5ffc0e46552bf2b609c109a92fdd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accba0f98e767d318dd3a2063a57919e7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daeconfig_8h.html#accba0f98e767d318dd3a2063a57919e7">DAEC_ERROR_SETUP</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:accba0f98e767d318dd3a2063a57919e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Daeconfig setup error.  <a href="daeconfig_8h.html#accba0f98e767d318dd3a2063a57919e7">More...</a><br /></td></tr>
<tr class="separator:accba0f98e767d318dd3a2063a57919e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aab068ec8c76a90d484dbccedd7ee40f6"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daeconfig_8h.html#aab068ec8c76a90d484dbccedd7ee40f6">daec_setup</a> (GError **err)</td></tr>
<tr class="memdesc:aab068ec8c76a90d484dbccedd7ee40f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up daemon configuration.  <a href="daeconfig_8h.html#aab068ec8c76a90d484dbccedd7ee40f6">More...</a><br /></td></tr>
<tr class="separator:aab068ec8c76a90d484dbccedd7ee40f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c4d95bbd84af8c499c7d3a9fb87e452"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daeconfig_8h.html#a3c4d95bbd84af8c499c7d3a9fb87e452">daec_add_option_group</a> (<a class="el" href="airopt_8h.html#ab416f9c421f4fc3f525e1742b4a13b6f">AirOptionCtx</a> *aoctx)</td></tr>
<tr class="memdesc:a3c4d95bbd84af8c499c7d3a9fb87e452"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an option group for daemon configuration to the given optoin context.  <a href="daeconfig_8h.html#a3c4d95bbd84af8c499c7d3a9fb87e452">More...</a><br /></td></tr>
<tr class="separator:a3c4d95bbd84af8c499c7d3a9fb87e452"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9526cb0e1153d869a0ec9d72e05db1b"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daeconfig_8h.html#ac9526cb0e1153d869a0ec9d72e05db1b">daec_is_daemon</a> (void)</td></tr>
<tr class="memdesc:ac9526cb0e1153d869a0ec9d72e05db1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return daemon mode state.  <a href="daeconfig_8h.html#ac9526cb0e1153d869a0ec9d72e05db1b">More...</a><br /></td></tr>
<tr class="separator:ac9526cb0e1153d869a0ec9d72e05db1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a0cea0caa39b2e96162e0c3c13cb79"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daeconfig_8h.html#a88a0cea0caa39b2e96162e0c3c13cb79">daec_will_fork</a> (void)</td></tr>
<tr class="memdesc:a88a0cea0caa39b2e96162e0c3c13cb79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return future fork state.  <a href="daeconfig_8h.html#a88a0cea0caa39b2e96162e0c3c13cb79">More...</a><br /></td></tr>
<tr class="separator:a88a0cea0caa39b2e96162e0c3c13cb79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad213a94517569d0daa7b51f32d002de1"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daeconfig_8h.html#ad213a94517569d0daa7b51f32d002de1">daec_did_fork</a> (void)</td></tr>
<tr class="memdesc:ad213a94517569d0daa7b51f32d002de1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return forked state.  <a href="daeconfig_8h.html#ad213a94517569d0daa7b51f32d002de1">More...</a><br /></td></tr>
<tr class="separator:ad213a94517569d0daa7b51f32d002de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a396013b7d378ca2c7d3c6053494f0602"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daeconfig_8h.html#a396013b7d378ca2c7d3c6053494f0602">daec_did_quit</a> (void)</td></tr>
<tr class="memdesc:a396013b7d378ca2c7d3c6053494f0602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return quit flag state.  <a href="daeconfig_8h.html#a396013b7d378ca2c7d3c6053494f0602">More...</a><br /></td></tr>
<tr class="separator:a396013b7d378ca2c7d3c6053494f0602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c66d03f3c579042c8723d980a3f65ab"><td class="memItemLeft" align="right" valign="top"><a id="a5c66d03f3c579042c8723d980a3f65ab"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="daeconfig_8h.html#a5c66d03f3c579042c8723d980a3f65ab">daec_quit</a> ()</td></tr>
<tr class="memdesc:a5c66d03f3c579042c8723d980a3f65ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the quit flag. <br /></td></tr>
<tr class="separator:a5c66d03f3c579042c8723d980a3f65ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Airframe Daemon Configuration Support. </p>
<p>Supplies automatic daemonization and the command line option processing necessary to use it. Use this when your application can run as a daemon and you want to give your users control over whether it does via the command line. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="accba0f98e767d318dd3a2063a57919e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accba0f98e767d318dd3a2063a57919e7">&#9670;&nbsp;</a></span>DAEC_ERROR_SETUP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DAEC_ERROR_SETUP&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Daeconfig setup error. </p>
<p>Signifies that daemonization failed due to an underlying operating system error. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3c4d95bbd84af8c499c7d3a9fb87e452"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c4d95bbd84af8c499c7d3a9fb87e452">&#9670;&nbsp;</a></span>daec_add_option_group()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean daec_add_option_group </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="airopt_8h.html#ab416f9c421f4fc3f525e1742b4a13b6f">AirOptionCtx</a> *&#160;</td>
          <td class="paramname"><em>aoctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an option group for daemon configuration to the given optoin context. </p>
<p>This option group defines two options: &ndash;daemon (-d) to become a daemon, and &ndash;foreground to run in daemon mode without forking.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">aoctx</td><td>airframe option context </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if successful, FALSE otherwise </dd></dl>

</div>
</div>
<a id="ad213a94517569d0daa7b51f32d002de1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad213a94517569d0daa7b51f32d002de1">&#9670;&nbsp;</a></span>daec_did_fork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean daec_did_fork </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return forked state. </p>
<p>Returns true if a prior call to <a class="el" href="daeconfig_8h.html#aab068ec8c76a90d484dbccedd7ee40f6" title="Set up daemon configuration.">daec_setup()</a> caused the application to fork to the background.</p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the daemon has forked, FALSE otherwise </dd></dl>

</div>
</div>
<a id="a396013b7d378ca2c7d3c6053494f0602"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a396013b7d378ca2c7d3c6053494f0602">&#9670;&nbsp;</a></span>daec_did_quit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean daec_did_quit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return quit flag state. </p>
<p>Returns FALSE until <a class="el" href="daeconfig_8h.html#a5c66d03f3c579042c8723d980a3f65ab" title="Set the quit flag.">daec_quit()</a> has been called, then returns TRUE. Provided as a convenience, so applications don't have to track their own quit flag.</p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if <a class="el" href="daeconfig_8h.html#a5c66d03f3c579042c8723d980a3f65ab" title="Set the quit flag.">daec_quit()</a> has been called. </dd></dl>

</div>
</div>
<a id="ac9526cb0e1153d869a0ec9d72e05db1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9526cb0e1153d869a0ec9d72e05db1b">&#9670;&nbsp;</a></span>daec_is_daemon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean daec_is_daemon </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return daemon mode state. </p>
<p>Returns true if &ndash;daemon was passed in on the command line, regardless of whether &ndash;foreground was also present. If an application's logic is different for daemon and non-daemon mode, the application should use this call to determine which mode to run in.</p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if in daemon mode, FALSE otherwise. </dd></dl>

</div>
</div>
<a id="aab068ec8c76a90d484dbccedd7ee40f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab068ec8c76a90d484dbccedd7ee40f6">&#9670;&nbsp;</a></span>daec_setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean daec_setup </td>
          <td>(</td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up daemon configuration. </p>
<p>Call this after parsing an options context including a GOptionGroup returned from daec_option_group(). This sets up internal state used by the other daeconfig calls and daemonizes the application, if necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>an error description </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE on success, FALSE otherwise </dd></dl>

</div>
</div>
<a id="a88a0cea0caa39b2e96162e0c3c13cb79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88a0cea0caa39b2e96162e0c3c13cb79">&#9670;&nbsp;</a></span>daec_will_fork()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean daec_will_fork </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return future fork state. </p>
<p>Returns true if &ndash;daemon and not &ndash;foreground. Use this call to determine whether a call to <a class="el" href="daeconfig_8h.html#aab068ec8c76a90d484dbccedd7ee40f6" title="Set up daemon configuration.">daec_setup()</a> will cause the application for fork to the background. This is primarily designed for interoperation with logconfig, which must know whether daeconfig will fork without requiring said fork to occur before logging is set up.</p>
<dl class="section return"><dt>Returns</dt><dd>TRUE if subsequent call to <a class="el" href="daeconfig_8h.html#aab068ec8c76a90d484dbccedd7ee40f6" title="Set up daemon configuration.">daec_setup()</a> will fork, FALSE otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- page-content -->
<!-- BEGIN NETSA-TOOLS FOOTER -->
<div class="page-footer">
<!-- INCLUDE THE FOOTER CONTENT -->
<!--#include virtual="/tools-page-footer.shtml" -->
<div class="copyright">
This library is part of the
<a href="http://tools.netsa.cert.org/">NetSA Security Suite</a>,
developed by the <a href="http://www.cert.org/">CERT</a>
<a href="http://www.cert.org/netsa/">NetSA</a> group<br />
at the <a href="http://www.sei.cmu.edu/">Software Engineering Institute</a>
at <a href="http://www.cmu.edu/">Carnegie Mellon University</a>.
<br />
<br />
&copy; 2006-2020 Carnegie Mellon University </div>
</div><!-- page-footer -->
<!-- END NETSA-TOOLS FOOTER -->
</body>
</html>
